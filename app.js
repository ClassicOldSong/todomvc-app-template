!function(e){"use strict";"document"in window.self&&("classList"in document.createElement("_")&&(!document.createElementNS||"classList"in document.createElementNS("http://www.w3.org/2000/svg","g"))||function(e){if("Element"in e){var t=e.Element.prototype,n=Object,r=String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")},a=Array.prototype.indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1},o=function(e,t){this.name=e,this.code=DOMException[e],this.message=t},s=function(e,t){if(""===t)throw new o("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(t))throw new o("INVALID_CHARACTER_ERR","String contains an invalid character");return a.call(e,t)},i=function(e){for(var t=r.call(e.getAttribute("class")||""),n=t?t.split(/\s+/):[],a=0,o=n.length;a<o;a++)this.push(n[a]);this._updateClassName=function(){e.setAttribute("class",this.toString())}},c=i.prototype=[],l=function(){return new i(this)};if(o.prototype=Error.prototype,c.item=function(e){return this[e]||null},c.contains=function(e){return-1!==s(this,e+="")},c.add=function(){var e,t=arguments,n=0,r=t.length,a=!1;do{e=t[n]+"",-1===s(this,e)&&(this.push(e),a=!0)}while(++n<r);a&&this._updateClassName()},c.remove=function(){var e,t,n=arguments,r=0,a=n.length,o=!1;do{for(e=n[r]+"",t=s(this,e);-1!==t;)this.splice(t,1),o=!0,t=s(this,e)}while(++r<a);o&&this._updateClassName()},c.toggle=function(e,t){e+="";var n=this.contains(e),r=n?!0!==t&&"remove":!1!==t&&"add";return r&&this[r](e),!0===t||!1===t?t:!n},c.toString=function(){return this.join(" ")},n.defineProperty){var u={get:l,enumerable:!0,configurable:!0};try{n.defineProperty(t,"classList",u)}catch(e){void 0!==e.number&&-2146823252!==e.number||(u.enumerable=!1,n.defineProperty(t,"classList",u))}}else n.prototype.__defineGetter__&&t.__defineGetter__("classList",l)}}(window.self),function(){var e=document.createElement("_");if(e.classList.add("c1","c2"),!e.classList.contains("c2")){var t=function(e){var t=DOMTokenList.prototype[e];DOMTokenList.prototype[e]=function(e){var n,r=arguments,a=arguments.length;for(n=0;n<a;n++)e=r[n],t.call(this,e)}};t("add"),t("remove")}if(e.classList.toggle("c3",!1),e.classList.contains("c3")){var n=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(e,t){return 1 in arguments&&!this.contains(e)==!t?t:n.call(this,e)}}e=null}());var t=Array.prototype,n={copy:function(e){return t.slice.call(e,0)},empty:function(e){return e.length=0,e},equals:function(e,t){if(!Array.isArray(t))return!1;if(e===t)return!0;if(e.length!==t.length)return!1;for(var n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0},pop:function(e){return t.pop.call(e)},push:function(e){for(var n=[],r=arguments.length-1;r-- >0;)n[r]=arguments[r+1];return t.push.apply(e,n)},remove:function(e,n){var r=t.indexOf.call(e,n);if(r>-1)return t.splice.call(e,r,1),n},reverse:function(e){return t.reverse.call(e)},rightUnique:function(e){for(var t=[],n=0;n<e.length;n++){for(var r=n+1;r<e.length;r++)e[n]===e[r]&&(r=n+=1);t.push(e[n])}return t},shift:function(e){return t.shift.call(e)},slice:function(e,n,r){return t.slice.call(e,n,r)},sort:function(e,n){return t.sort.call(e,n)},splice:function(e){for(var n=[],r=arguments.length-1;r-- >0;)n[r]=arguments[r+1];return t.splice.apply(e,n)},unshift:function(e){for(var n=[],r=arguments.length-1;r-- >0;)n[r]=arguments[r+1];return t.unshift.apply(e,n)}};window.Set&&Array.from?n.unique=function(e){return Array.from(new Set(e))}:n.unique=n.rightUnique;var r=[],a=[],o=[],s=0,i=function(e){return r.push.apply(r,e)},c=function(e){return a.push(e)},l=function(){return s+=1},u=function(){if(0!==o.length){for(var e=n.unique(o),t=0,r=e;t<r.length;t+=1){(0,r[t])()}console.info("[EF]",o.length+" user operation(s) cached, "+e.length+" executed."),n.empty(o)}},d=function(e){return!e&&(s-=1)>0?s:(s=0,r.length>0&&function(){for(var e=n.unique(r),t=0,a=e;t<a.length;t+=1)(0,a[t])();console.info("[EF]",r.length+" modification operation(s) cached, "+e.length+" executed."),n.empty(r)}(),a.length>0&&function(){for(var e=n.rightUnique(a),t=0,r=e;t<r.length;t+=1)(0,r[t])();console.info("[EF]",a.length+" DOM operation(s) cached, "+e.length+" executed."),n.empty(a)}(),o.length>0&&setTimeout(u,0),s)},h=Object.assign||function(e,t){for(var n in t)e[n]=t[n];return e},p=function(e,t,n){for(var r=0,a=e;r<a.length;r+=1){var o=a[r];if(!t[o]){var s={};Object.defineProperty(t,o,{get:function(){return s},set:function(e){l(),h(s,e),d()},configurable:!n,enumerable:n})}t=t[o]}return t},f=[],v=function(e,t){!function(e){f.push(e)}(e),l();try{for(var r=0,a=e;r<a.length;r+=1){(0,a[r])(t)}}catch(e){console.error("[EF]","Error caught when executing subscribers:\n",e)}d(),function(e){n.remove(f,e)}(e)},m=function(e){return e!=e},y=function(e){var t=e.bind,r=e.state,a=e.handlers,o=e.subscribers,s=e.innerData,c=n.copy(t[0]),u=c.pop(),h=function(e){var t=e._path,n=e._key,r=e.data,a=e.handlers,o=e.subscribers,s=e.innerData,i=p(t,r,!0),c=function(e){for(var t=e._path,n=e.handlers,r=e.subscribers,a=e.innerData,o=0,s=t;o<s.length;o+=1){var i=s[o];n[i]||(n[i]={}),r[i]||(r[i]={}),a[i]||(a[i]={}),n=n[i],r=r[i],a=a[i]}return{handlerNode:n,subscriberNode:r,dataNode:a}}({_path:t,handlers:a,subscribers:o,innerData:s}),l=c.handlerNode,u=c.subscriberNode,d=c.dataNode;return l[n]||(l[n]=[]),u[n]||(u[n]=[]),Object.prototype.hasOwnProperty.call(d,n)||(d[n]=""),{parentNode:i,handlerNode:l[n],subscriberNode:u[n],dataNode:d}}({_path:c,_key:u,data:r.$data,handlers:a,subscribers:o,innerData:s}),f=h.parentNode,y=h.handlerNode,b=h.subscriberNode,g=h.dataNode;return Object.prototype.hasOwnProperty.call(f,u)||function(e){var t=e.parentNode,n=e.dataNode,r=e.handlerNode,a=e.subscriberNode,o=e.state,s=e._key;Object.defineProperty(t,s,{get:function(){return n[s]},set:function(e){n[s]===e||m(n[s])&&m(e)||(n[s]=e,l(),i(r),d(),a.length>0&&v(a,{state:o,value:e}))},enumerable:!0})}({parentNode:f,dataNode:g,handlerNode:y,subscriberNode:b,state:r,_key:u}),t.length>1&&(f[u]=t[1]),{dataNode:g,parentNode:f,handlerNode:y,subscriberNode:b,_key:u}},b=function(e,t){void 0===t&&(t={bubbles:!1,cancelable:!1});var n=document.createEvent("Event");return n.initEvent(e,t.bubbles,t.cancelable),n},g=function(e){return e.dataNode[e._key]},$=function(e){return["number","boolean","string"].indexOf(typeof e)>-1},k=function(e){var t=e.tag,n=e.ref,r=e.refs,a=function(e,t){return t?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e)}(t,e.svg);return n&&Object.defineProperty(r,n,{value:a,enumerable:!0}),a},N=function(e){var t=e.val,n=e.state,r=e.handlers,a=e.subscribers,o=e.innerData,s=e.handler;if(Array.isArray(t)){var i=t[0],c=t.slice(1),l=[i],u=function(){return s(function(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];if(!e)return g(t[0]);var r=[e];return r.push.apply(r,t.map(g)),function(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];for(var r="",a=0;a<t.length;a++)r+=e[a]+t[a];return r+e[e.length-1]}.apply(void 0,r)}.apply(void 0,l))};return l.push.apply(l,c.map(function(e){var t=y({bind:e,state:n,handlers:r,subscribers:a,innerData:o}),s=t.dataNode,i=t.handlerNode,c=t._key;return i.push(u),{dataNode:s,_key:c}})),u}return function(){return t}},w=function(e){var t=e.parentNode,r=e.handlerNode,a=e._handler,o=e._key,s=e.value;n.remove(r,a),l(),t[o]=s,d(),n.push(r,a)},x=function(e){var t=e.element,n=e.attr,r=e.key,a=e.state,o=e.handlers,s=e.subscribers,c=e.innerData;if($(n))t.setAttribute(r,n);else{var l=function(e,t){return"class"===t?function(n){if(!(n=(""+n).replace(/\s+/g," ").trim()))return e.removeAttribute(t);e.setAttribute(t,n)}:function(n){if(""===n)return e.removeAttribute(t);e.setAttribute(t,n)}}(t,r);i([N({val:n,state:a,handlers:o,subscribers:s,innerData:c,handler:l})])}},_=function(e){var t=e.element,r=e.prop,a=e.key,o=e.state,s=e.handlers,c=e.subscribers,l=e.innerData;if($(r))t[a]=r;else{var u=N({val:r,state:o,handlers:s,subscribers:c,innerData:l,handler:function(e){t[a]=e}});"value"!==a&&"checked"!==a||r[0]||function(e){var t=e._handler,r=e.state,a=e.handlers,o=e.subscribers,s=e.innerData,i=e.element,c=e.key,l=e.expr,u=y({bind:l,state:r,handlers:a,subscribers:o,innerData:s}),d=u.parentNode,h=u.handlerNode,p=u._key,f=function(){return w({parentNode:d,handlerNode:h,_handler:t,_key:p,value:i.value})};"value"===c?(i.addEventListener("input",f,!0),i.addEventListener("keyup",f,!0),i.addEventListener("change",f,!0)):(i.addEventListener("change",function(){if(i.dispatchEvent(b("ef-change-event")),"INPUT"===i.tagName&&"radio"===i.type&&""!==i.name){var e=document.querySelectorAll("input[name="+i.name+"]");if(e){var t=n.copy(e);n.remove(t,i);for(var r=0,a=t;r<a.length;r+=1)a[r].dispatchEvent(b("ef-change-event"))}}},!0),i.addEventListener("ef-change-event",function(){return w({parentNode:d,handlerNode:h,_handler:t,_key:p,value:i.checked})}))}({_handler:u,state:o,handlers:s,subscribers:c,innerData:l,element:t,key:a,expr:r[1]}),i([u])}},D=function(e){return e},E=function(e){var t=e.element,n=e.event,r=e.state,a=e.handlers,o=e.subscribers,s=e.innerData,i=n.l,c=n.m,l=n.s,u=n.i,d=n.p,h=n.h,p=n.a,f=n.c,v=n.t,m=n.u,y=n.k,b=n.v,g=N({val:b,state:r,handlers:a,subscribers:o,innerData:s,handler:D});t.addEventListener(i,function(e){!!h!=!!e.shiftKey||!!p!=!!e.altKey||!!f!=!!e.ctrlKey||!!v!=!!e.metaKey||y&&-1===y.indexOf(e.which)||(l&&e.stopPropagation(),u&&e.stopImmediatePropagation(),d&&e.preventDefault(),r.$methods[c]?r.$methods[c]({e:e,value:g(),state:r}):console.warn("[EF]","Method named '"+c+"' not found! Value been passed is:",g()))},!!m)},O=Node.prototype,S={before:function(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];var r=document.createDocumentFragment();t.reverse();for(var a=0,o=t;a<o.length;a+=1){var s=o[a];O.appendChild.call(r,s)}O.insertBefore.call(e.parentNode,r,e)},after:function(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];for(var r=document.createDocumentFragment(),a=0,o=t;a<o.length;a+=1){var s=o[a];O.appendChild.call(r,s)}e.nextSibling?O.insertBefore.call(e.parentNode,r,e.nextSibling):O.appendChild.call(e.parentNode,r)},append:function(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];if(-1!==[1,9,11].indexOf(e.nodeType)){for(var r=document.createDocumentFragment(),a=0,o=t;a<o.length;a+=1){var s=o[a];O.appendChild.call(r,s)}O.appendChild.call(e,r)}},remove:function(e){O.removeChild.call(e.parentNode,e)}},A={empty:function(){l();for(var e=0,t=n.copy(this);e<t.length;e+=1){t[e].$destroy()}d(),n.empty(this)},pop:function(){if(0!==this.length){var e=n.pop(this);return e.$umount(),e}},push:function(e){for(var t=e.state,r=e.key,a=e.anchor,o=[],s=arguments.length-1;s-- >0;)o[s]=arguments[s+1];var i=[];l();for(var c=0,u=o;c<u.length;c+=1){var h=u[c];n.push(i,h.$mount({parent:t,key:r}))}return 0===this.length?S.after.apply(S,[a].concat(i)):S.after.apply(S,[this[this.length-1].$ctx.nodeInfo.placeholder].concat(i)),d(),n.push.apply(n,[this].concat(o))},remove:function(e){if(-1!==this.indexOf(e))return e.$umount(),e},reverse:function(e){var t=e.state,r=e.key,a=e.anchor;if(0===this.length)return this;var o=n.copy(this),s=[];l();for(var i=o.length-1;i>=0;i--)o[i].$umount(),n.push(s,o[i].$mount({parent:t,key:r}));return n.push.apply(n,[this].concat(n.reverse(o))),S.after.apply(S,[a].concat(s)),d(),this},shift:function(){if(0!==this.length){var e=n.shift(this);return e.$umount(),e}},sort:function(e,t){var r=e.state,a=e.key,o=e.anchor;if(0===this.length)return this;var s=n.copy(n.sort(this,t)),i=[];l();for(var c=0,u=s;c<u.length;c+=1){var h=u[c];h.$umount(),n.push(i,h.$mount({parent:r,key:a}))}return n.push.apply(n,[this].concat(s)),S.after.apply(S,[o].concat(i)),d(),this},splice:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(0===this.length)return this;var r=n.splice.apply(n,[n.copy(this)].concat(e));l();for(var a=0,o=r;a<o.length;a+=1){o[a].$umount()}return d(),r},unshift:function(e){for(var t,r=e.state,a=e.key,o=e.anchor,s=[],i=arguments.length-1;i-- >0;)s[i]=arguments[i+1];if(0===this.length)return(t=this).push.apply(t,s).length;var c=[];l();for(var u=0,h=s;u<h.length;u+=1){var p=h[u];n.push(c,p.$mount({parent:r,key:a}))}return S.after.apply(S,[o].concat(c)),d(),n.unshift.apply(n,[this].concat(s))}},C=function(e){return Array.isArray(e)?"array":typeof e},T=function(e){var t=e.state,n=e.key,r=e.children,a=e.anchor;Object.defineProperty(t,n,{get:function(){return r[n]},set:function(e){!function(e){var t=e.state,n=e.children,r=e.key,a=e.anchor,o=e.value;n[r]!==o&&(o&&(o.$ctx.nodeInfo.parent&&console.warn("[EF]","Better detach the component before attaching it to a new component!"),o.$ctx.nodeInfo.element.contains(t.$ctx.nodeInfo.element))?console.warn("[EF]","Cannot mount a component to it's child component!"):(l(),n[r]&&n[r].$umount(),n[r]=o,o&&o.$mount({target:a,parent:t,option:"before",key:r}),d()))}({state:t,children:r,key:n,anchor:a,value:e})},enumerable:!0,configurable:!0})},L=function(e){var t,r,a=e.state,o=e.key,s=e.children,i=e.anchor;s[o]=(t=[],r={state:a,key:o,anchor:i},Object.defineProperties(t,{empty:{value:A.empty},pop:{value:A.pop},push:{value:A.push.bind(t,r)},remove:{value:A.remove},reverse:{value:A.reverse.bind(t,r)},shift:{value:A.shift},sort:{value:A.sort.bind(t,r)},splice:{value:A.splice},unshift:{value:A.unshift.bind(t,r)}}),t),Object.defineProperty(a,o,{get:function(){return s[o]},set:function(e){s[o]&&n.equals(s[o],e)||function(e){var t=e.state,r=e.children,a=e.key,o=e.anchor,s=e.value;s=s?n.copy(s):[];var i=document.createDocumentFragment();if(l(),r[a]){for(var c=0,u=s;c<u.length;c+=1){var h=u[c];if(h.$ctx.nodeInfo.element.contains(t.$ctx.nodeInfo.element))return void console.warn("[EF]","Cannot mount a component to it's child component!");h.$umount(),S.append(i,h.$mount({parent:t,key:a}))}for(var p=0,f=n.copy(r[a]);p<f.length;p+=1)f[p].$umount()}else for(var v=0,m=s;v<m.length;v+=1){var y=m[v];S.append(i,y.$mount({parent:t,key:a}))}r[a].length=0,n.push.apply(n,[r[a]].concat(s)),S.after(o,i),d()}({state:a,children:s,key:o,anchor:i,value:e})},enumerable:!0,configurable:!0})},I=function(e){var t=e.node,n=e.nodeType,r=e.element,a=e.state,o=e.innerData,s=e.refs,c=e.children,l=e.handlers,u=e.subscribers,d=e.svg,h=e.create;switch(n){case"string":S.append(r,document.createTextNode(t));break;case"array":"object"===C(t[0])?S.append(r,h({node:t,state:a,innerData:o,refs:s,children:c,handlers:l,subscribers:u,svg:d,create:h})):function(e){var t=e.node,n=e.state,r=e.handlers,a=e.subscribers,o=e.innerData,s=e.element,c=document.createTextNode(""),l=y({bind:t,state:n,handlers:r,subscribers:a,innerData:o}),u=l.dataNode,d=l.handlerNode,h=l._key,p=function(){c.textContent=u[h]};d.push(p),i([p]),S.append(s,c)}({node:t,state:a,handlers:l,subscribers:u,innerData:o,element:r});break;case"object":var p=document.createTextNode("");if(0===t.t)T({state:a,key:t.n,children:c,anchor:p});else{if(1!==t.t)throw new TypeError("Not a standard ef.js AST: Unknown mounting point type '"+t.t+"'");L({state:a,key:t.n,children:c,anchor:p})}S.append(r,p),S.before(p,document.createComment("Start of mounting point '"+t.n+"'")),S.after(p,document.createComment("End of mounting point '"+t.n+"'"));break;default:throw new TypeError("Not a standard ef.js AST: Unknown node type '"+n+"'")}},j=function(e){var t=e.node,n=e.state,r=e.innerData,a=e.refs,o=e.children,s=e.handlers,i=e.subscribers,c=e.svg,l=e.create,u=t[0],d=t.slice(1);c||"svg"!==u.t||(c=!0);for(var h=function(e){var t=e.info,n=e.state,r=e.innerData,a=e.refs,o=e.handlers,s=e.subscribers,i=e.svg,c=t.t,l=t.a,u=t.p,d=t.e,h=t.r,p=k({tag:c,ref:h,refs:a,svg:i});for(var f in l)x({element:p,attr:l[f],key:f,state:n,handlers:o,subscribers:s,innerData:r});for(var v in u)_({element:p,prop:u[v],key:v,state:n,handlers:o,subscribers:s,innerData:r});for(var m in d)E({element:p,event:d[m],state:n,handlers:o,subscribers:s,innerData:r});return p}({info:u,state:n,innerData:r,refs:a,handlers:s,subscribers:i,svg:c}),p=0,f=d;p<f.length;p+=1){var v=f[p];I({node:v,nodeType:C(v),element:h,state:n,innerData:r,refs:a,children:o,handlers:s,subscribers:i,svg:c,create:l})}return h},P="before",F="after",q="append",M="replace",R=function(){function e(e){var t={},r={},a={},o={},s={placeholder:document.createTextNode(""),replace:[],parent:null,key:null},i=document.createDocumentFragment();s.placeholder=document.createComment("EF COMPONENT PLACEHOLDER");var u=function(){if(s.replace.length>0){for(var e=0,t=s.replace;e<t.length;e+=1){var r=t[e];S.remove(r)}n.empty(s.replace)}S.before(s.placeholder,s.element)},h={mount:u,refs:t,innerData:r,methods:{},handlers:a,subscribers:o,nodeInfo:s,safeZone:i};Object.defineProperty(this,"$ctx",{get:function(){return h}}),l(),p(["$data"],this,!1),s.element=j({node:e,state:this,innerData:r,refs:t,children:{},handlers:a,subscribers:o,svg:!1,create:j}),S.append(i,s.placeholder),c(u),d()}var t={$methods:{configurable:!0},$refs:{configurable:!0}};return t.$methods.get=function(){return this.$ctx.methods},t.$methods.set=function(e){var t=this.$ctx.methods;h(t,e)},t.$refs.get=function(){return this.$ctx.refs},e.prototype.$mount=function(e){var t=e.target,n=e.option,r=e.parent,a=e.key,o=this.$ctx,s=o.nodeInfo,i=o.mount;if("string"==typeof t&&(t=document.querySelector(t)),l(),s.parent&&(this.$umount(),console.warn("[EF]","Component detached from previous mounting point.")),r||(r=t),a||(a="__DIRECTMOUNT__"),s.parent=r,s.key=a,c(i),!t)return d(),s.placeholder;switch(n){case P:S.before(t,s.placeholder);break;case F:S.after(t,s.placeholder);break;case M:S.before(t,s.placeholder),s.replace.push(t);break;case q:default:S.append(t,s.placeholder)}return d()},e.prototype.$umount=function(){var e=this.$ctx,t=e.nodeInfo,r=e.safeZone,a=e.mount,o=t.parent,s=t.key;if(t.parent=null,t.key=null,l(),o&&"__DIRECTMOUNT__"!==s&&o[s]){if(!Array.isArray(o[s]))return o[s]=null,d();n.remove(o[s],this)}return S.append(r,t.placeholder),c(a),d()},e.prototype.$subscribe=function(e,t){var n=this.$ctx,r=n.handlers,a=n.subscribers,o=n.innerData,s=e.split("."),i=y({bind:[s],state:this,handlers:r,subscribers:a,innerData:o}),c=i.dataNode,u=i.subscriberNode,h=i._key;l();try{t({state:this,value:c[h]}),u.push(t)}catch(e){console.error("[EF]","Error caught when registering subscriber:\n",e)}d()},e.prototype.$unsubscribe=function(e,t){!function(e,t,r){var a=function(e,t){for(var n=e.split("."),r=n.pop(),a=0,o=n;a<o.length;a+=1){var s=o[a];t[s]||(t[s]={}),t=t[s]}return t[r]}(e,r);n.remove(a,t)}(e,t,this.$ctx.subscribers)},e.prototype.$update=function(e){l();var t=h({},e);t.$data&&(h(this.$data,t.$data),delete t.$data),t.$methods&&(h(this.$methods,t.$methods),delete t.$methods),h(this,t),d()},e.prototype.$destroy=function(){var e=this.$ctx.nodeInfo;for(var t in l(),this.$umount(),this)this[t]=null,delete this[t];return c(function(){S.remove(e.element),S.remove(e.placeholder)}),d()},Object.defineProperties(e.prototype,t),e}(),U=function(e){var t=e;return function(e){function n(n){l(),e.call(this,t),n&&this.$update(n),d()}return e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n,n}(R)};console.info("[EF]","ef-core v0.8.1 initialized!");var K=U([{t:"section",a:{class:"todoapp"}},[{t:"header",a:{class:"header"}},[{t:"h1"},"todos"],[{t:"input",a:{class:"new-todo",placeholder:"What needs to be done?",autofocus:""},r:"input",p:{value:[0,[["input"]]]},e:[{l:"keypress",p:1,k:[13],m:"addTodo",v:[0,[["input"]]]}]}]],{n:"main",t:0},{n:"footer",t:0}]),B=U([{t:"section",a:{class:"main",style:"display: none;"}},[{t:"input",a:{class:"toggle-all",id:"toggle-all",type:"checkbox"},p:{checked:[0,[["allCompleted"]]]}}],[{t:"label",a:{for:"toggle-all"}},"Mark all as complete"],[{t:"ul",a:{class:"todo-list"}},{n:"todos",t:1}]]),G=U([{t:"li",a:{class:[["todo "," ",""],[["completed"]],[["editing"]]]}},[{t:"div",a:{class:"view"}},[{t:"input",a:{class:"toggle",type:"checkbox"},p:{checked:[0,[["stored","completed"]]]}}],[{t:"label",e:[{l:"dblclick",m:"edit"}]},[["stored","title"]]],[{t:"button",a:{class:"destroy"},e:[{l:"click",m:"destroy"}]}]],[{t:"input",a:{class:"edit"},r:"edit",p:{value:[0,[["update"]]]},e:[{l:"keydown",p:1,k:[13],m:"blur"},{l:"keydown",k:[27],m:"cancel",v:[0,[["stored","title"]]]},{l:"blur",m:"confirm",v:[0,[["update"]]]}]}]]),H=U([{t:"footer",a:{class:"footer",style:"display: none;"}},[{t:"span",a:{class:"todo-count"}},[{t:"strong"},[["count"],0]]," item",[["s"]]," left"],[{t:"ul",a:{class:"filters"}},[{t:"li"},[{t:"a",a:{class:[0,[["allSelected"]]],href:"#/"}},"All"]],[{t:"li"},[{t:"a",a:{class:[0,[["activeSelected"]]],href:"#/active"}},"Active"]],[{t:"li"},[{t:"a",a:{class:[0,[["completedSelected"]]],href:"#/completed"}},"Completed"]]],[{t:"button",a:{class:"clear-completed",style:"display: none;"},r:"clear",e:[{l:"click",m:"clear"}]},"Clear completed"]]),J=Array.prototype,V=function(e){return J.slice.call(e,0)},Z=function(e,t){var n=J.indexOf.call(e,t);if(n>-1)return J.splice.call(e,n,1),t},z=new K,W=new B,X=new H,Y=0;z.main=W,z.footer=X;var Q=[],ee=[],te=[],ne=[],re=function(){localStorage.setItem("todos-ef",JSON.stringify(ne))},ae=function(e,t){return e.$data.stored.order>t.$data.stored.order?1:-1},oe=function(t){switch(e.inform(),t){case"#/active":W.todos=Q.sort(ae),X.$data={allSelected:"",activeSelected:"selected",completedSelected:""};break;case"#/completed":W.todos=ee.sort(ae),X.$data={allSelected:"",activeSelected:"",completedSelected:"selected"};break;default:W.todos=te,X.$data={allSelected:"selected",activeSelected:"",completedSelected:""}}e.exec()},se=function(){0===te.length?(X.$ctx.nodeInfo.element.style.display="none",W.$ctx.nodeInfo.element.style.display="none"):(X.$ctx.nodeInfo.element.style.display="block",W.$ctx.nodeInfo.element.style.display="block"),0!==te.length&&te.length===ee.length?W.$data.allCompleted=!0:W.$data.allCompleted=!1,0===ee.length?X.$refs.clear.style.display="none":X.$refs.clear.style.display="block",X.$data.count=Q.length,Q.length>1?X.$data.s="s":X.$data.s=""},ie=function(t){var n=t.state;e.inform(),Z(te,n),Z(ne,n.$data.stored),Z(ee,n),Z(Q,n),n.$destroy(),se(),re(),oe(location.hash),e.exec()},ce=function(t){var n=t.e,r=t.state,a=t.value;e.inform();var o=a.trim();if(!o)return e.exec(ie({state:r}));r.$data.editing="",r.$data.stored.title=o,"blur"===n.type&&(r.$data.update=""),re(),e.exec()},le=function(t){var n=t.state,r=t.value;e.inform(),n.$data.editing="",n.$data.update=r,e.exec()},ue=function(t){var n=t.state;e.inform(),n.$data.update=n.$data.stored.title,n.$data.editing="editing",e.exec(),n.$refs.edit.focus()},de=function(e){e.state.$refs.edit.blur()},he=function(t){t.order=Y+=1,t.completed=!!t.completed;var n=new G({$data:{stored:t},$methods:{blur:de,edit:ue,cancel:le,confirm:ce,destroy:ie}});te.push(n),ne.push(n.$data.stored),t.completed||"#/completed"===location.hash||W.todos.push(n),n.$subscribe("stored.completed",function(t){var n=t.value;e.inform(),n?(this.$data.completed="completed",Z(Q,this),ee.push(this),"#/active"===location.hash&&W.todos.remove(this)):(this.$data.completed="",Q.push(this),Z(ee,this),window._this_=this,"#/completed"===location.hash&&W.todos.remove(this)),se(),re(),e.exec()}.bind(n)),se(),re(),z.$refs.input.focus()};z.$methods.addTodo=function(t){var n=t.state,r=t.value;if(r=r.trim(),e.inform(),!r)return e.exec();n.$data.input="",he({title:r,completed:!1}),e.exec()},X.$methods.clear=function(){e.inform();for(var t=0,n=ee;t<n.length;t+=1){var r=n[t];Z(te,r),Z(ne,r.$data.stored),W.todos.remove(r),r.$destroy()}ee.length=0,se(),re(),oe(location.hash),e.exec()},W.$subscribe("allCompleted",function(t){var n=t.value;if(e.inform(),n)for(var r=0,a=V(Q);r<a.length;r+=1)a[r].$data.stored.completed=!0;else if(ee.length===te.length)for(var o=0,s=V(ee);o<s.length;o+=1)s[o].$data.stored.completed=!1;"#/"!==location.hash&&oe(location.hash),e.exec()});var pe=localStorage.getItem("todos-ef");if(pe){var fe=JSON.parse(pe);e.inform();for(var ve=0,me=fe;ve<me.length;ve+=1){var ye=me[ve];he(ye)}e.exec()}/^#\/(active|completed)?$/.test(location.hash)||(window.location="#/"),oe(location.hash),window.addEventListener("hashchange",function(){return oe(location.hash)}),z.$mount({target:".todoapp",option:"replace"}),window.todoapp=z}(ef);
//# sourceMappingURL=app.js.map
